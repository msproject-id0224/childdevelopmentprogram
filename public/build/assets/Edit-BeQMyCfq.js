import{a as w,u as k,j as e,H as _,r as v,c as P}from"./app-BF_e_Rdy.js";import{A as L}from"./AuthenticatedLayout-DbifM-Jj.js";import{_ as a}from"./lang-BBLCHUjz.js";import{I as S}from"./InputLabel-DFaqN2cU.js";import{I as E}from"./InputError-C-0TgvcP.js";import{P as N}from"./PrimaryButton-kgonJzl3.js";import{S as I}from"./SecondaryButton-Dh5JYrG7.js";import{T as C}from"./TextInput-B1g3ssf1.js";import D from"./UpdateProfileInformationForm-BLvd-2px.js";import F from"./DeleteUserForm-DFekqsj9.js";import R from"./AdminList-BiQJGSFj.js";import"./Dropdown-DXsKi9BE.js";import"./transition-DGGVtMAX.js";import"./ThemeToggle-5mAKfxz7.js";import"./Modal-DWOZPDE9.js";import"./DangerButton-Drnabt0D.js";import"./useTheme-H-g0SFOs.js";const c=({label:g,value:i,field:f,user:l,onUpdate:s})=>{const[r,x]=v.useState(!1),[p,h]=v.useState(i||""),[u,d]=v.useState(!1),b=()=>{d(!0);const n={first_name:l.first_name,last_name:l.last_name,email:l.email,phone_number:l.phone_number,job_title:l.job_title,[f]:p};P.patch(route("profile.update"),n,{preserveScroll:!0,onSuccess:()=>{x(!1),d(!1),s&&s()},onError:()=>{d(!1)}})},j=()=>{h(i||""),x(!1)};return e.jsxs("div",{className:"py-4 sm:grid sm:grid-cols-3 sm:gap-4 sm:py-5 border-b border-gray-200 dark:border-gray-700 last:border-0 items-center",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:g}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900 dark:text-gray-100 sm:col-span-2 sm:mt-0 flex justify-between items-center",children:r?e.jsxs("div",{className:"flex items-center gap-2 w-full max-w-md",children:[e.jsx(C,{value:p,onChange:n=>h(n.target.value),className:"w-full",autoFocus:!0}),e.jsx(N,{onClick:b,disabled:u,className:"px-3 py-1 text-xs",children:a("Simpan")}),e.jsx(I,{onClick:j,disabled:u,className:"px-3 py-1 text-xs",children:a("Batal")})]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{children:i||"-"}),e.jsx("button",{onClick:()=>x(!0),className:"ml-4 text-gray-400 hover:text-indigo-600 dark:hover:text-indigo-400 transition-colors",title:a("Edit"),children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})})]})})]})};function X({mustVerifyEmail:g,status:i}){const{auth:f,locale:l}=w().props,s=f.user,r=s.role==="admin",{data:x,setData:p,post:h,processing:u,errors:d,reset:b}=k({photo:null}),j=t=>{t.preventDefault();let m,y={};r?(m="admin.profile-photos.upload",y={user:s.id}):m=s.role==="mentor"?"mentor.profile-photo.request":"participant.profile-photo.request",h(route(m,y),{onSuccess:()=>b()})},n=t=>t?new Date(t).toLocaleDateString(l,{day:"numeric",month:"short",year:"numeric"}):"-",o=({label:t,value:m})=>e.jsxs("div",{className:"py-4 sm:grid sm:grid-cols-3 sm:gap-4 sm:py-5 border-b border-gray-200 dark:border-gray-700 last:border-0",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:t}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900 dark:text-gray-100 sm:col-span-2 sm:mt-0",children:m||"-"})]});return e.jsxs(L,{header:e.jsx("h2",{className:"text-xl font-semibold leading-tight text-gray-800 dark:text-gray-200",children:r?a("Informasi Admin"):a("Profile")}),children:[e.jsx(_,{title:a("Profile")}),e.jsx("div",{className:"py-12",children:e.jsxs("div",{className:"mx-auto max-w-7xl sm:px-6 lg:px-8",children:[e.jsx("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg dark:bg-gray-800 transition-colors duration-200",children:e.jsxs("div",{className:"p-6 text-gray-900 dark:text-gray-100",children:[e.jsxs("div",{className:"px-4 sm:px-0 mb-6 border-b border-gray-200 dark:border-gray-700 pb-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-4",children:a("Profile Photo")}),e.jsxs("div",{className:"flex flex-col md:flex-row md:items-start md:space-x-6 space-y-4 md:space-y-0",children:[e.jsx("div",{className:"flex-shrink-0",children:s.profile_photo_path?e.jsx("img",{src:`/storage/${s.profile_photo_path}`,alt:s.name,className:"w-24 h-24 rounded-full object-cover border-2 border-gray-200 dark:border-gray-700"}):e.jsx("div",{className:"w-24 h-24 rounded-full bg-gray-200 dark:bg-gray-700 flex items-center justify-center text-gray-400 border-2 border-gray-200 dark:border-gray-700",children:e.jsx("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})})}),e.jsx("div",{className:"flex-grow max-w-xl",children:!r&&s.profile_photo_status==="pending"?e.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/30 border-l-4 border-yellow-400 p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-yellow-400",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm text-yellow-700 dark:text-yellow-200",children:a("Your photo update request is pending approval.")})})]})}):e.jsxs("form",{onSubmit:j,children:[s.profile_photo_status==="rejected"&&e.jsx("div",{className:"mb-4 bg-red-50 dark:bg-red-900/30 border-l-4 border-red-400 p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm text-red-700 dark:text-red-200",children:a("Your last photo request was rejected.")})})]})}),e.jsx(S,{htmlFor:"photo",value:r?a("Ubah Foto Profil"):a("Request Photo Update")}),e.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[e.jsx("input",{type:"file",id:"photo",onChange:t=>p("photo",t.target.files[0]),className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-indigo-50 file:text-indigo-700 hover:file:bg-indigo-100 dark:file:bg-indigo-900 dark:file:text-indigo-300",accept:"image/*"}),e.jsx(N,{disabled:u,children:r?a("Simpan Foto"):a("Submit Request")})]}),e.jsx(E,{message:d.photo,className:"mt-2"})]})})]})]}),e.jsxs("div",{className:"px-4 sm:px-0 mb-6",children:[e.jsx("h3",{className:"text-base font-semibold leading-7 text-gray-900 dark:text-gray-100",children:r?a("Informasi Admin"):a("Participant Information")}),e.jsx("p",{className:"mt-1 max-w-2xl text-sm leading-6 text-gray-500 dark:text-gray-400",children:r?a("Detail informasi akun administrator."):a("Personal details and membership status.")})]}),e.jsx("dl",{className:"divide-y divide-gray-100 dark:divide-gray-700",children:r?e.jsxs(e.Fragment,{children:[e.jsx(c,{label:a("Nama Depan"),value:s.first_name,field:"first_name",user:s}),e.jsx(c,{label:a("Nama Belakang"),value:s.last_name,field:"last_name",user:s}),e.jsx(c,{label:a("Email"),value:s.email,field:"email",user:s}),e.jsx(c,{label:a("Nomor Telepon"),value:s.phone_number,field:"phone_number",user:s}),e.jsx(c,{label:a("Jabatan"),value:s.job_title,field:"job_title",user:s})]}):e.jsxs(e.Fragment,{children:[e.jsx(o,{label:a("Full Name"),value:s.name}),e.jsx(o,{label:a("Email Address"),value:s.email}),e.jsx(o,{label:a("Phone Number"),value:s.phone_number}),e.jsx(o,{label:a("Address"),value:s.address}),e.jsx(o,{label:a("Date of Birth"),value:n(s.date_of_birth)}),e.jsx(o,{label:a("Membership Status"),value:s.role?a(s.role.charAt(0).toUpperCase()+s.role.slice(1)):"-"})]})})]})}),r?e.jsx("div",{className:"p-4 sm:p-8 bg-white dark:bg-gray-800 shadow sm:rounded-lg mt-6",children:e.jsx(R,{})}):e.jsx("div",{className:"p-4 sm:p-8 bg-white dark:bg-gray-800 shadow sm:rounded-lg mt-6",children:e.jsx(D,{mustVerifyEmail:g,status:i,className:"max-w-xl"})}),!r&&e.jsx("div",{className:"p-4 sm:p-8 bg-white dark:bg-gray-800 shadow sm:rounded-lg mt-6",children:e.jsx(F,{className:"max-w-xl"})})]})})]})}export{X as default};
