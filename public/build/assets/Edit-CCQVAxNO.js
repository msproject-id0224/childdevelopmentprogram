import{u,r as N,j as e,H as w,L as C}from"./app-BrUyG7yk.js";import{A as D}from"./AuthenticatedLayout-CbzkO-it.js";import{I as i}from"./InputError-DlkBn7UG.js";import{I as l}from"./InputLabel-BMpDstnu.js";import{P as h}from"./PrimaryButton-C22pO8mr.js";import{T as n}from"./TextInput-CriA2SlH.js";import{_ as a}from"./lang-BBLCHUjz.js";import"./Dropdown-waCO41fP.js";import"./transition-oyyIfUlq.js";import"./ThemeToggle-Bw0JqV72.js";import"./Modal-BCZvBBvc.js";import"./SecondaryButton-CgUwEPPx.js";import"./DangerButton-7yz6ru8h.js";import"./useTheme-BcNvbsKF.js";function W({auth:F,participant:s}){const{data:P,setData:x,post:f,processing:j,errors:b,reset:v}=u({photo:null}),p=r=>{r.preventDefault(),f(route("admin.profile-photos.upload",s.id),{onSuccess:()=>v()})},{data:o,setData:t,patch:k,errors:d,processing:y}=u({first_name:s.first_name,last_name:s.last_name||"",nickname:s.nickname||"",email:s.email,id_number:s.id_number?s.id_number.replace("ID-0224",""):"",date_of_birth:s.date_of_birth||"",age:s.age||"",gender:s.gender||"",education:s.education||"",age_group:s.age_group||"",height:s.height||"",weight:s.weight||"",communication:s.communication||""}),_=r=>{r.preventDefault(),k(route("participants.update",s.id))};return N.useEffect(()=>{if(o.date_of_birth){const r=new Date(o.date_of_birth),m=new Date;let g=m.getFullYear()-r.getFullYear();const c=m.getMonth()-r.getMonth();(c<0||c===0&&m.getDate()<r.getDate())&&g--,t("age",g)}else t("age","")},[o.date_of_birth]),e.jsxs(D,{header:e.jsx("h2",{className:"text-xl font-semibold leading-tight text-gray-800 dark:text-gray-200",children:a("Edit Participant")}),children:[e.jsx(w,{title:a("Edit Participant")}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"mx-auto max-w-7xl sm:px-6 lg:px-8",children:e.jsxs("div",{className:"overflow-hidden bg-white shadow-sm sm:rounded-lg dark:bg-gray-800",children:[e.jsxs("div",{className:"p-6 text-gray-900 dark:text-gray-100 border-b border-gray-200 dark:border-gray-700",children:[e.jsx("h3",{className:"text-lg font-medium mb-4",children:a("Profile Photo")}),e.jsxs("form",{onSubmit:p,className:"flex flex-col md:flex-row md:items-start md:space-x-6 space-y-4 md:space-y-0",children:[e.jsx("div",{className:"flex-shrink-0",children:s.profile_photo_path?e.jsx("img",{src:`/storage/${s.profile_photo_path}`,alt:s.name,className:"w-24 h-24 rounded-full object-cover border-2 border-gray-200 dark:border-gray-700"}):e.jsx("div",{className:"w-24 h-24 rounded-full bg-gray-200 dark:bg-gray-700 flex items-center justify-center text-gray-400 border-2 border-gray-200 dark:border-gray-700",children:e.jsx("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})})}),e.jsxs("div",{className:"flex-grow max-w-xl",children:[e.jsx(l,{htmlFor:"photo",value:a("Upload New Photo")}),e.jsx("input",{type:"file",id:"photo",onChange:r=>x("photo",r.target.files[0]),className:"mt-1 block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-indigo-50 file:text-indigo-700 hover:file:bg-indigo-100 dark:file:bg-indigo-900 dark:file:text-indigo-300",accept:"image/*"}),e.jsx(i,{message:b.photo,className:"mt-2"}),e.jsx("div",{className:"mt-4",children:e.jsx(h,{disabled:j,children:a("Update Photo")})})]})]})]}),e.jsx("div",{className:"p-6 text-gray-900 dark:text-gray-100",children:e.jsxs("form",{onSubmit:_,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"id_number",value:a("ID Number")}),e.jsxs("div",{className:"mt-1 flex rounded-md shadow-sm",children:[e.jsx("span",{className:"inline-flex items-center px-5 rounded-l-md border border-r-0 border-gray-300 bg-gray-50 text-gray-500 text-sm dark:bg-gray-700 dark:border-gray-600 dark:text-gray-400 whitespace-nowrap",children:"ID-0224"}),e.jsx(n,{id:"id_number",className:"block w-full rounded-none rounded-r-md",value:o.id_number,onChange:r=>t("id_number",r.target.value),autoComplete:"id_number"})]}),e.jsx(i,{className:"mt-2",message:d.id_number})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"first_name",value:a("First Name")}),e.jsx(n,{id:"first_name",className:"mt-1 block w-full",value:o.first_name,onChange:r=>t("first_name",r.target.value),required:!0,isFocused:!0,autoComplete:"given-name"}),e.jsx(i,{className:"mt-2",message:d.first_name})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"last_name",value:a("Last Name")}),e.jsx(n,{id:"last_name",className:"mt-1 block w-full",value:o.last_name,onChange:r=>t("last_name",r.target.value),autoComplete:"family-name"}),e.jsx(i,{className:"mt-2",message:d.last_name})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"nickname",value:a("Nickname")}),e.jsx(n,{id:"nickname",className:"mt-1 block w-full",value:o.nickname,onChange:r=>t("nickname",r.target.value),autoComplete:"nickname"}),e.jsx(i,{className:"mt-2",message:d.nickname})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"email",value:a("Email")}),e.jsx(n,{id:"email",type:"email",className:"mt-1 block w-full",value:o.email,onChange:r=>t("email",r.target.value),required:!0,autoComplete:"username"}),e.jsx(i,{className:"mt-2",message:d.email})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"date_of_birth",value:a("Date of Birth")}),e.jsx(n,{id:"date_of_birth",type:"date",className:"mt-1 block w-full",value:o.date_of_birth,onChange:r=>t("date_of_birth",r.target.value)}),e.jsx(i,{className:"mt-2",message:d.date_of_birth})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"age",value:a("Age")}),e.jsx(n,{id:"age",type:"number",className:"mt-1 block w-full",value:o.age,onChange:r=>t("age",r.target.value)}),e.jsx(i,{className:"mt-2",message:d.age})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"gender",value:a("Gender")}),e.jsxs("select",{id:"gender",className:"mt-1 block w-full border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600 rounded-md shadow-sm",value:o.gender,onChange:r=>t("gender",r.target.value),children:[e.jsx("option",{value:"",children:a("Select Gender")}),e.jsx("option",{value:"Laki-laki",children:a("Male")}),e.jsx("option",{value:"Perempuan",children:a("Female")})]}),e.jsx(i,{className:"mt-2",message:d.gender})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"education",value:a("Education")}),e.jsxs("select",{id:"education",className:"mt-1 block w-full border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600 rounded-md shadow-sm",value:o.education,onChange:r=>t("education",r.target.value),children:[e.jsx("option",{value:"",children:a("Select Education")}),e.jsx("option",{value:"Dibawah Umur",children:a("Underage")}),e.jsx("option",{value:"TK",children:a("TK")}),e.jsx("option",{value:"SD",children:a("SD")}),e.jsx("option",{value:"SMP",children:a("SMP")}),e.jsx("option",{value:"SMA",children:a("SMA")}),e.jsx("option",{value:"D3",children:a("D3")}),e.jsx("option",{value:"S1",children:a("S1")})]}),e.jsx(i,{className:"mt-2",message:d.education})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"age_group",value:a("Age Group")}),e.jsxs("select",{id:"age_group",className:"mt-1 block w-full border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600 rounded-md shadow-sm",value:o.age_group,onChange:r=>t("age_group",r.target.value),children:[e.jsx("option",{value:"",children:a("Select Age Group")}),e.jsx("option",{value:"Survival",children:a("Survival")}),e.jsx("option",{value:"0-2",children:a("0-2")}),e.jsx("option",{value:"3-5",children:a("3-5")}),e.jsx("option",{value:"6-8",children:a("6-8")}),e.jsx("option",{value:"9-11",children:a("9-11")}),e.jsx("option",{value:"12-14",children:a("12-14")}),e.jsx("option",{value:"15-18",children:a("15-18")}),e.jsx("option",{value:"19+",children:a("19+")})]}),e.jsx(i,{className:"mt-2",message:d.age_group})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"height",value:a("Height (cm)")}),e.jsx(n,{id:"height",type:"number",step:"0.01",className:"mt-1 block w-full",value:o.height,onChange:r=>t("height",r.target.value)}),e.jsx(i,{className:"mt-2",message:d.height})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"weight",value:a("Weight (kg)")}),e.jsx(n,{id:"weight",type:"number",step:"0.01",className:"mt-1 block w-full",value:o.weight,onChange:r=>t("weight",r.target.value)}),e.jsx(i,{className:"mt-2",message:d.weight})]})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"communication",value:a("Communication")}),e.jsx("textarea",{id:"communication",className:"mt-1 block w-full border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600 rounded-md shadow-sm",value:o.communication,onChange:r=>t("communication",r.target.value),rows:"3"}),e.jsx(i,{className:"mt-2",message:d.communication})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(h,{disabled:y,children:a("Save")}),e.jsx(C,{href:route("participants.index"),className:"inline-flex items-center px-4 py-2 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-500 rounded-md font-semibold text-xs text-gray-700 dark:text-gray-300 uppercase tracking-widest shadow-sm hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 disabled:opacity-25 transition ease-in-out duration-150",children:a("Cancel")})]})]})})]})})})]})}export{W as default};
