import{a as N,r as C,u as b,j as e,L as k}from"./app-DIMQ1j7c.js";import{I as c}from"./InputError-DI7IH1vY.js";import{I as d}from"./InputLabel-BuNHIFco.js";import{P as f}from"./PrimaryButton-w4LuAXHx.js";import{T as u}from"./TextInput-BJ_vSqdm.js";import{M as S}from"./Modal-CAr-gwKz.js";import{S as P}from"./SecondaryButton-DqsL44OG.js";import{_ as s}from"./lang-BBLCHUjz.js";import{K as F}from"./transition-B3VWNPEY.js";function B({mustVerifyEmail:x,status:p,className:h=""}){const t=N().props.auth.user,[j,i]=C.useState(!1),{data:n,setData:o,patch:g,errors:l,processing:m,recentlySuccessful:v}=b({first_name:t.first_name,last_name:t.last_name||"",id_number:t.id_number||"",email:t.email}),y=a=>{a.preventDefault(),i(!0)},_=()=>{g(route("profile.update"),{preserveScroll:!0,onSuccess:()=>r(),onError:()=>r(),onFinish:()=>i(!1)})},r=()=>{i(!1)};return e.jsxs("section",{className:h,children:[e.jsxs("header",{children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:s("Profile Information")}),e.jsx("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:s("Update your account's profile information and email address.")})]}),e.jsxs("form",{onSubmit:y,className:"mt-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx(d,{htmlFor:"first_name",value:s("First Name")}),e.jsx(u,{id:"first_name",className:"mt-1 block w-full",value:n.first_name,onChange:a=>o("first_name",a.target.value),required:!0,isFocused:!0,autoComplete:"given-name"}),e.jsx(c,{className:"mt-2",message:l.first_name})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"last_name",value:s("Last Name")}),e.jsx(u,{id:"last_name",className:"mt-1 block w-full",value:n.last_name,onChange:a=>o("last_name",a.target.value),autoComplete:"family-name"}),e.jsx(c,{className:"mt-2",message:l.last_name})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"email",value:s("Email")}),e.jsx(u,{id:"email",type:"email",className:"mt-1 block w-full",value:n.email,onChange:a=>o("email",a.target.value),required:!0,autoComplete:"username"}),e.jsx(c,{className:"mt-2",message:l.email})]}),x&&t.email_verified_at===null&&e.jsxs("div",{children:[e.jsxs("p",{className:"mt-2 text-sm text-gray-800",children:[s("Your email address is unverified."),e.jsx(k,{href:route("verification.send"),method:"post",as:"button",className:"rounded-md text-sm text-gray-600 underline hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",children:s("Click here to re-send the verification email.")})]}),p==="verification-link-sent"&&e.jsx("div",{className:"mt-2 text-sm font-medium text-green-600",children:s("A new verification link has been sent to your email address.")})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(f,{disabled:m,children:s("Save")}),e.jsx(F,{show:v,enter:"transition ease-in-out",enterFrom:"opacity-0",leave:"transition ease-in-out",leaveTo:"opacity-0",children:e.jsx("p",{className:"text-sm text-gray-600",children:s("Saved.")})})]})]}),e.jsx(S,{show:j,onClose:r,children:e.jsxs("div",{className:"p-6",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900",children:s("Confirm Profile Update")}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:s("Are you sure you want to update your profile information?")}),e.jsxs("div",{className:"mt-6 flex justify-end",children:[e.jsx(P,{onClick:r,children:s("Cancel")}),e.jsx(f,{className:"ms-3",disabled:m,onClick:_,children:m?s("Saving..."):s("Confirm Save")})]})]})})]})}export{B as default};
