import{a as f,u as b,j as e,H as j}from"./app-BrUyG7yk.js";import{A as y}from"./AuthenticatedLayout-CbzkO-it.js";import{_ as s}from"./lang-BBLCHUjz.js";import{I as v}from"./InputLabel-BMpDstnu.js";import{I as N}from"./InputError-DlkBn7UG.js";import{P as w}from"./PrimaryButton-C22pO8mr.js";import k from"./UpdateProfileInformationForm-FGgTCvsC.js";import P from"./DeleteUserForm-CBt6ZzRj.js";import"./Dropdown-waCO41fP.js";import"./transition-oyyIfUlq.js";import"./ThemeToggle-Bw0JqV72.js";import"./TextInput-CriA2SlH.js";import"./Modal-BCZvBBvc.js";import"./SecondaryButton-CgUwEPPx.js";import"./DangerButton-7yz6ru8h.js";import"./useTheme-BcNvbsKF.js";function V({mustVerifyEmail:o,status:d}){const{auth:i,locale:m}=f().props,r=i.user,{data:_,setData:n,post:c,processing:x,errors:p,reset:h}=b({photo:null}),g=a=>{a.preventDefault();const l=r.role==="mentor"?"mentor.profile-photo.request":"participant.profile-photo.request";r.role!=="admin"&&c(route(l),{onSuccess:()=>h()})},u=a=>a?new Date(a).toLocaleDateString(m,{day:"numeric",month:"short",year:"numeric"}):"-",t=({label:a,value:l})=>e.jsxs("div",{className:"py-4 sm:grid sm:grid-cols-3 sm:gap-4 sm:py-5 border-b border-gray-200 dark:border-gray-700 last:border-0",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:a}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900 dark:text-gray-100 sm:col-span-2 sm:mt-0",children:l||"-"})]});return e.jsxs(y,{header:e.jsx("h2",{className:"text-xl font-semibold leading-tight text-gray-800 dark:text-gray-200",children:s("Profile")}),children:[e.jsx(j,{title:s("Profile")}),e.jsx("div",{className:"py-12",children:e.jsxs("div",{className:"mx-auto max-w-7xl sm:px-6 lg:px-8",children:[e.jsx("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg dark:bg-gray-800 transition-colors duration-200",children:e.jsxs("div",{className:"p-6 text-gray-900 dark:text-gray-100",children:[e.jsxs("div",{className:"px-4 sm:px-0 mb-6 border-b border-gray-200 dark:border-gray-700 pb-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-4",children:s("Profile Photo")}),e.jsxs("div",{className:"flex flex-col md:flex-row md:items-start md:space-x-6 space-y-4 md:space-y-0",children:[e.jsx("div",{className:"flex-shrink-0",children:r.profile_photo_path?e.jsx("img",{src:`/storage/${r.profile_photo_path}`,alt:r.name,className:"w-24 h-24 rounded-full object-cover border-2 border-gray-200 dark:border-gray-700"}):e.jsx("div",{className:"w-24 h-24 rounded-full bg-gray-200 dark:bg-gray-700 flex items-center justify-center text-gray-400 border-2 border-gray-200 dark:border-gray-700",children:e.jsx("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})})}),e.jsx("div",{className:"flex-grow max-w-xl",children:r.profile_photo_status==="pending"?e.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/30 border-l-4 border-yellow-400 p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-yellow-400",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm text-yellow-700 dark:text-yellow-200",children:s("Your photo update request is pending approval.")})})]})}):r.role!=="admin"&&e.jsxs("form",{onSubmit:g,children:[r.profile_photo_status==="rejected"&&e.jsx("div",{className:"mb-4 bg-red-50 dark:bg-red-900/30 border-l-4 border-red-400 p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm text-red-700 dark:text-red-200",children:s("Your last photo request was rejected.")})})]})}),e.jsx(v,{htmlFor:"photo",value:s("Request Photo Update")}),e.jsx("input",{type:"file",id:"photo",onChange:a=>n("photo",a.target.files[0]),className:"mt-1 block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-indigo-50 file:text-indigo-700 hover:file:bg-indigo-100 dark:file:bg-indigo-900 dark:file:text-indigo-300",accept:"image/*"}),e.jsx(N,{message:p.photo,className:"mt-2"}),e.jsx("div",{className:"mt-4",children:e.jsx(w,{disabled:x,children:s("Submit Request")})})]})})]})]}),e.jsxs("div",{className:"px-4 sm:px-0 mb-6",children:[e.jsx("h3",{className:"text-base font-semibold leading-7 text-gray-900 dark:text-gray-100",children:s("Participant Information")}),e.jsx("p",{className:"mt-1 max-w-2xl text-sm leading-6 text-gray-500 dark:text-gray-400",children:s("Personal details and membership status.")})]}),e.jsxs("dl",{className:"divide-y divide-gray-100 dark:divide-gray-700",children:[e.jsx(t,{label:s("Full Name"),value:r.name}),e.jsx(t,{label:s("Email Address"),value:r.email}),e.jsx(t,{label:s("Phone Number"),value:r.phone_number}),e.jsx(t,{label:s("Address"),value:r.address}),e.jsx(t,{label:s("Date of Birth"),value:u(r.date_of_birth)}),e.jsx(t,{label:s("Membership Status"),value:r.role?s(r.role.charAt(0).toUpperCase()+r.role.slice(1)):"-"})]})]})}),e.jsx("div",{className:"p-4 sm:p-8 bg-white dark:bg-gray-800 shadow sm:rounded-lg mt-6",children:e.jsx(k,{mustVerifyEmail:o,status:d,className:"max-w-xl"})}),e.jsx("div",{className:"p-4 sm:p-8 bg-white dark:bg-gray-800 shadow sm:rounded-lg mt-6",children:e.jsx(P,{className:"max-w-xl"})})]})})]})}export{V as default};
